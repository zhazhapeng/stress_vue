<template>
  <div class="browse">
    <!-- 内容开始 -->
    <section id="main" class="d-flex justify-cntent-center align-items-center">
      <div class="container" id="browse">
        <div class="card">
          <div class="card-header">
            <h5 class="font-weight-bold">Browse</h5>
          </div>
          <br /><br />
          <div id="browse-control-org">
            <ul class="nav nav-tabs">
              <li>
                <a
                  class="nav-link"
                  value="Actinidia deliciosa"
                  href="javascript:void(0);"
                  >Actinidia deliciosa</a
                >
              </li>
              <li></li>
              <li>
                <a
                  class="nav-link"
                  value="Ananas comosus"
                  href="javascript:void(0);"
                  >Ananas comosus</a
                >
              </li>
              <li></li>
              <li>
                <a
                  class="nav-link text-danger active"
                  value="Arabidopsis thaliana"
                  href="javascript:void(0);"
                  >Arabidopsis thaliana<span class="des-highlight">*</span></a
                >
              </li>
              <li></li>
              <li>
                <a
                  class="nav-link"
                  value="Arachis duranensis"
                  href="javascript:void(0);"
                  >Arachis duranensis</a
                >
              </li>
              <li></li>
              <li>
                <a
                  class="nav-link"
                  value="Arachis hypogaea"
                  href="javascript:void(0);"
                  >Arachis hypogaea</a
                >
              </li>
              <li></li>
              <li>
                <a
                  class="nav-link"
                  value="Bermudagrass stolon"
                  href="javascript:void(0);"
                  >Bermudagrass stolon</a
                >
              </li>
              <li></li>
              <li>
                <a
                  class="nav-link"
                  value="Brachypodium distachyon"
                  href="javascript:void(0);"
                  >Brachypodium distachyon</a
                >
              </li>
              <li></li>
              <li>
                <a
                  class="nav-link"
                  value="Brassica napus"
                  href="javascript:void(0);"
                  >Brassica napus</a
                >
              </li>
              <li></li>
              <li>
                <a
                  class="nav-link"
                  value="Camellia sinensis"
                  href="javascript:void(0);"
                  >Camellia sinensis</a
                >
              </li>
              <li></li>
              <li>
                <a
                  class="nav-link"
                  value="Capsicum annuum"
                  href="javascript:void(0);"
                  >Capsicum annuum</a
                >
              </li>
              <li></li>
              <li>
                <a
                  class="nav-link text-danger"
                  value="Chlamydomonas reinhardtii"
                  href="javascript:void(0);"
                  >Chlamydomonas reinhardtii<span class="des-highlight"
                    >*</span
                  ></a
                >
              </li>
              <li></li>
              <li>
                <a
                  class="nav-link"
                  value="Cicer arietinum"
                  href="javascript:void(0);"
                  >Cicer arietinum</a
                >
              </li>
              <li></li>
              <li>
                <a
                  class="nav-link"
                  value="Citrus sinensis"
                  href="javascript:void(0);"
                  >Citrus sinensis</a
                >
              </li>
              <li></li>
              <li>
                <a
                  class="nav-link"
                  value="Cyanidioschyzon merolae"
                  href="javascript:void(0);"
                  >Cyanidioschyzon merolae</a
                >
              </li>
              <li></li>
              <li>
                <a
                  class="nav-link"
                  value="Fragaria ananassa"
                  href="javascript:void(0);"
                  >Fragaria ananassa</a
                >
              </li>
              <li></li>
              <li>
                <a
                  class="nav-link"
                  value="Fragaria vesca"
                  href="javascript:void(0);"
                  >Fragaria vesca</a
                >
              </li>
              <li></li>
              <li>
                <a
                  class="nav-link text-danger"
                  value="Glycine max"
                  href="javascript:void(0);"
                  >Glycine max<span class="des-highlight">*</span></a
                >
              </li>
              <li></li>
              <li>
                <a
                  class="nav-link"
                  value="Gossypium hirsutum"
                  href="javascript:void(0);"
                  >Gossypium hirsutum</a
                >
              </li>
              <li></li>
              <li>
                <a
                  class="nav-link"
                  value="Hibiscus cannabinus"
                  href="javascript:void(0);"
                  >Hibiscus cannabinus</a
                >
              </li>
              <li></li>
              <li>
                <a
                  class="nav-link"
                  value="Hordeum vulgare"
                  href="javascript:void(0);"
                  >Hordeum vulgare</a
                >
              </li>
              <li></li>
              <li>
                <a
                  class="nav-link"
                  value="Jatropha curcas"
                  href="javascript:void(0);"
                  >Jatropha curcas</a
                >
              </li>
              <li></li>
              <li>
                <a
                  class="nav-link"
                  value="Lactuca sativa"
                  href="javascript:void(0);"
                  >Lactuca sativa</a
                >
              </li>
              <li></li>
              <li>
                <a
                  class="nav-link"
                  value="Lotus japonicus"
                  href="javascript:void(0);"
                  >Lotus japonicus</a
                >
              </li>
              <li></li>
              <li>
                <a
                  class="nav-link text-danger"
                  value="Medicago truncatula"
                  href="javascript:void(0);"
                  >Medicago truncatula<span class="des-highlight">*</span></a
                >
              </li>
              <li></li>
              <li>
                <a
                  class="nav-link"
                  value="Musa acuminata"
                  href="javascript:void(0);"
                  >Musa acuminata</a
                >
              </li>
              <li></li>
              <li>
                <a
                  class="nav-link"
                  value="Nicotiana benthamiana"
                  href="javascript:void(0);"
                  >Nicotiana benthamiana</a
                >
              </li>
              <li></li>
              <li>
                <a
                  class="nav-link"
                  value="Nicotiana tabacum"
                  href="javascript:void(0);"
                  >Nicotiana tabacum</a
                >
              </li>
              <li></li>
              <li>
                <a
                  class="nav-link"
                  value="Oryza sativa subsp. indica"
                  href="javascript:void(0);"
                  >Oryza sativa subsp. indica</a
                >
              </li>
              <li></li>
              <li>
                <a
                  class="nav-link text-danger"
                  value="Oryza sativa subsp. japonica"
                  href="javascript:void(0);"
                  >Oryza sativa subsp. japonica<span class="des-highlight"
                    >*</span
                  ></a
                >
              </li>
              <li></li>
              <li>
                <a
                  class="nav-link"
                  value="Panicum virgatum"
                  href="javascript:void(0);"
                  >Panicum virgatum</a
                >
              </li>
              <li></li>
              <li>
                <a
                  class="nav-link"
                  value="Petunia hybrida"
                  href="javascript:void(0);"
                  >Petunia hybrida</a
                >
              </li>
              <li></li>
              <li>
                <a
                  class="nav-link"
                  value="Phaseolus vulgaris"
                  href="javascript:void(0);"
                  >Phaseolus vulgaris</a
                >
              </li>
              <li></li>
              <li>
                <a
                  class="nav-link"
                  value="Physcomitrella patens"
                  href="javascript:void(0);"
                  >Physcomitrella patens</a
                >
              </li>
              <li></li>
              <li>
                <a
                  class="nav-link"
                  value="Physcomitrium patens"
                  href="javascript:void(0);"
                  >Physcomitrium patens</a
                >
              </li>
              <li></li>
              <li>
                <a
                  class="nav-link"
                  value="Picea asperata"
                  href="javascript:void(0);"
                  >Picea asperata</a
                >
              </li>
              <li></li>
              <li>
                <a
                  class="nav-link"
                  value="Populus canescens"
                  href="javascript:void(0);"
                  >Populus canescens</a
                >
              </li>
              <li></li>
              <li>
                <a
                  class="nav-link"
                  value="Populus trichocarpa"
                  href="javascript:void(0);"
                  >Populus trichocarpa</a
                >
              </li>
              <li></li>
              <li>
                <a
                  class="nav-link"
                  value="Prunus persica"
                  href="javascript:void(0);"
                  >Prunus persica</a
                >
              </li>
              <li></li>
              <li>
                <a
                  class="nav-link text-danger"
                  value="Solanum lycopersicum"
                  href="javascript:void(0);"
                  >Solanum lycopersicum<span class="des-highlight">*</span></a
                >
              </li>
              <li></li>
              <li>
                <a
                  class="nav-link"
                  value="Solanum tuberosum"
                  href="javascript:void(0);"
                  >Solanum tuberosum</a
                >
              </li>
              <li></li>
              <li>
                <a
                  class="nav-link text-danger"
                  value="Triticum aestivum"
                  href="javascript:void(0);"
                  >Triticum aestivum<span class="des-highlight">*</span></a
                >
              </li>
              <li></li>
              <li>
                <a
                  class="nav-link"
                  value="Vitis vinifera"
                  href="javascript:void(0);"
                  >Vitis vinifera</a
                >
              </li>
              <li></li>
              <li>
                <a
                  class="nav-link text-danger"
                  value="Zea mays"
                  href="javascript:void(0);"
                  >Zea mays<span class="des-highlight">*</span></a
                >
              </li>
              <li></li>
            </ul>
          </div>

          <div class="card-body">
            <div class="row row1" >
              <div class="col-md-6" ref="chartContainer1" >
                <div class="browse-stat-plot" id="protein-stat-plot"></div>
              </div>
              <div class="col-md-6" ref="chartContainer2">
                <div class="browse-stat-plot" id="condition-stat-plot"></div>
              </div>
              <!--div class="col-md-4"><div class="browse-stat-plot" id='sample-stat-plot'></div></div-->
            </div>
          </div>
          <div class="card-body">
            <div id="browse-control-mod">
              <ul class="nav nav-tabs"></ul>
            </div>
          </div>

          <div class="card-body">
            <span class="sub-title"
              >Browse for proteins with
              <span class="chooseMod des-highlight"></span> in
              <span class="chooseOrg des-highlight"></span
            ></span>
            <br /><br />
            <div class="card">
              <div class="card-body">
                <div class="tab-pane" id="protein-fword"></div>
              </div>
            </div>
            <br /><br />
            <div>
              <span id="protein-pageInfo"></span>
              <select id="protein-selectColNumber" class="selectRowNumber">
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="5" selected="selected">5</option>
                <option value="10">10</option>
              </select>
              columns per row,
              <select id="protein-selectRowNumber" class="selectRowNumber">
                <option value="5">5</option>
                <option value="10">10</option>
                <option value="20">20</option>
              </select>
              rows per page.
            </div>
            <div class="table-responsive">
              
                <el-table
                  :data="tableData"
                  style="width: 100%">
                  <el-table-column
                    type="index"
                    :index="indexMethod">
                  </el-table-column>
                  <el-table-column
                    prop="date"
                    label="日期"
                    width="180">
                  </el-table-column>
                  <el-table-column
                    prop="name"
                    label="姓名"
                    width="180">
                  </el-table-column>
                  <el-table-column
                    prop="address"
                    label="地址">
                  </el-table-column>
                </el-table>


              <!-- </table> -->
            </div>
            <div class="row">
              <div class="col-md-6"></div>
              <div class="col-md-6 buttonInfo" id="protein-buttonInfo"></div>
            </div>
            <hr />
            <br /><br />

            <span class="sub-title"
              >Browse for conditions with
              <span class="chooseMod des-highlight"></span> in
              <span class="chooseOrg des-highlight"></span
            ></span>
            <br /><br />
            <div class="card">
              <div class="card-body">
                <div class="tab-pane" id="condition-fword"></div>
              </div>
            </div>
            <br /><br />

            <div>
              <span id="condition-pageInfo"></span>,
              <select id="condition-selectColNumber" class="selectRowNumber">
                <option value="1">1</option>
                <option value="2" selected="selected">2</option>
                <option value="5">5</option>
              </select>
              columns per row,
              <select id="condition-selectRowNumber" class="selectRowNumber">
                <option value="5">5</option>
                <option value="10">10</option>
                <option value="20">20</option>
              </select>
              rows per page.
            </div>
            <div class="table-responsive">
              <table
                class="table table-bordered table-hover"
                id="condition-option-show"
              >
                <tbody></tbody>
              </table>
            </div>
            <div class="row">
              <div class="col-md-6"></div>
              <div class="col-md-6 buttonInfo" id="condition-buttonInfo"></div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <!-- End Main -->
  </div>
</template>

<script>
import { store } from '../store.js'
import * as echarts from 'echarts';  
import axios from 'axios';  
import { BarChart } from 'echarts/charts';  
import { GridComponent, TooltipComponent } from 'echarts/components';  
  
// 注册必须的组件  
echarts.use([BarChart, GridComponent, TooltipComponent]);  
export default {  
  data() {  
    return {  
      chart: null,  
      categories: [], // 数据种类  
      values: [] // 对应种类的值  
    };  
  },  
  mounted() {  
    this.renderChart1();  
    this.renderChart2(); 
    // this.fetchData();
  },  
  methods: {  
    renderChart1() {  
      // 获取图表容器  
      const chartContainer1 = this.$refs.chartContainer1;  
      
  
      // 初始化图表实例  
      const myChart1 = echarts.init(chartContainer1);  
      
  
      // 设置图表选项  
      const option = {  
        tooltip: {  
          trigger: 'axis',  
          axisPointer: {  
            type: 'shadow'  
          }  
        },  
        legend: {  
          data: ['销量']  
        },  
        grid: {  
          left: '3%',  
          right: '4%',  
          bottom: '3%',  
          containLabel: true  
        },  
        xAxis: {  
          type: 'category',  
          boundaryGap: false,  
          data: ['周一', '周二', '周三', '周四', '周五', '周六', '周日']  
        },  
        yAxis: {  
          type: 'value'  
        },  
        series: [  
          {  
            name: '销量',  
            type: 'bar',  
            stack: '总量',  
            label: {  
              show: true,  
              position: 'insideRight'  
            },  
            data: [120, 200, 150, 80, 70, 110, 130]  
          }  
        ]  
      };  
  
      // 使用刚指定的配置项和数据显示图表。  
      myChart1.setOption(option);  
      
    },
    renderChart2() {  
      // 获取图表容器  
      const chartContainer2 = this.$refs.chartContainer2;  
      
  
      // 初始化图表实例  
      const myChart2 = echarts.init(chartContainer2);  
      
  
      // 设置图表选项  
      const option = {  
        tooltip: {  
          trigger: 'axis',  
          axisPointer: {  
            type: 'shadow'  
          }  
        },  
        legend: {  
          data: ['销量']  
        },  
        grid: {  
          left: '3%',  
          right: '4%',  
          bottom: '3%',  
          containLabel: true  
        },  
        xAxis: {  
          type: 'category',  
          boundaryGap: false,  
          data: ['周一', '周二', '周三', '周四', '周五', '周六', '周日']  
        },  
        yAxis: {  
          type: 'value'  
        },  
        series: [  
          {  
            name: '销量',  
            type: 'bar',  
            stack: '总量',  
            label: {  
              show: true,  
              position: 'insideRight'  
            },  
            data: [120, 200, 150, 80, 70, 110, 130]  
          }  
        ]  
      };  
  
      // 使用刚指定的配置项和数据显示图表。  
      myChart2.setOption(option);  
      
    }, 


    fetchData() {  
      this.$axios.post("/data", {
        data: {
          field1
         }}).then(response => {  
          const data = response.data;  
          // 假设后端返回的数据是一个对象数组，每个对象有 category 和 value 属性  
          this.categories = Array.from(new Set(data.map(item => item.category))); // 获取不重复的种类  
          this.values = this.categories.map(() => 0); // 初始化值为0的数组，长度与种类数量相同  
  
          data.forEach(item => {  
            const index = this.categories.indexOf(item.category);  
            this.values[index] += item.value; // 累加相同种类的值  
          });  
  
          this.initChart(); // 数据处理完成后初始化图表  
        })  
        .catch(error => {  
          console.error('Error fetching data:', error);  
        });  
    },  
    initChart() {  
      const chartContainer = this.$refs.chartContainer;  
      this.chart = echarts.init(chartContainer);  
  
      const option = {  
        tooltip: {  
          trigger: 'axis'  
        },  
        xAxis: {  
          type: 'category',  
          data: this.categories  
        },  
        yAxis: {  
          type: 'value'  
        },  
        series: [{  
          data: this.values,  
          type: 'bar'  
        }]  
      };  
  
      this.chart.setOption(option);  
    }  
  },  
  beforeDestroy() {  
    if (this.chart) {  
      this.chart.dispose();  
    }  
  },
 




  }  
 
</script>

<style lang="scss" scoped>

.row{
  // background-color: pink;
  width: 1200px;
  height: 400px;
}
.row1{
  // background-color:yellowgreen;
  width: 1200px;
  height: 400px;
}
</style>
